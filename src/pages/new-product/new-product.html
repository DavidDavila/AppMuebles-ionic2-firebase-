<!--
  Generated template for the NewProduct page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
--><ion-header>
  <ion-toolbar>
    <ion-title [hidden]="!update">{{product.nombre}}
    </ion-title> 
    <ion-title [hidden]="update">Nuevo Mueble
    </ion-title>
    <ion-buttons start>
      <button ion-button (click)="dismiss()">
        <span color="primary" showWhen="ios">Cancel</span>
        <ion-icon name="md-close" showWhen="android,windows"></ion-icon>
      </button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content padding>

  <ion-item>
    <ion-label floating>Nombre</ion-label>
    <ion-input [(ngModel)]="product.nombre" type="text" required></ion-input>
  </ion-item>

  <ion-item>
    <ion-label>Categoría</ion-label>
    <ion-select [(ngModel)]="product.category" required>
      <ion-option *ngFor="let category of categoryList" value="{{category}}" >{{category}}</ion-option>   
      <ion-option  value="new"> Nueva Categoría</ion-option>    
    </ion-select>
  </ion-item>

   <ion-item [hidden]="product.category != 'new'">
    <ion-label floating>Nombre de categoría</ion-label>
    <ion-input [(ngModel)]="product.newCategory" type="text" required></ion-input>
  </ion-item>

  <ion-item>
    <ion-label>Tienda</ion-label>
    <ion-select [(ngModel)]="product.branch" required>
      <ion-option *ngFor="let branch of branchList" value="{{branch}}" >{{branch}}</ion-option>	  
      <ion-option  value="new"> Nueva Tienda</ion-option>	  
    </ion-select>       
  </ion-item>

	<ion-item [hidden]="product.branch != 'new'">
    <ion-label floating>Nombre de Tienda</ion-label>
    <ion-input [(ngModel)]="product.newBranch" type="text" required></ion-input>
  </ion-item>
	
  <ion-item>
    <ion-label floating>Observaciones</ion-label>
    <ion-input [(ngModel)]="product.observaciones" type="text"></ion-input>
  </ion-item>

  <ion-item>
    <ion-label floating>Precio</ion-label>
    <ion-input [(ngModel)]="product.price" type="number" required></ion-input>
  </ion-item>		

  <ion-item [hidden]="!inShop">
  <img [src]="src" [hidden]="!src"><br>
    <ion-icon [hidden]="loading>0" name="camera" class="camera" (click)="doPhoto()"></ion-icon>
     <ion-spinner text-center icon="spiral"  large fab-center class="spinner" [hidden]="loading<1 || product.photo"></ion-spinner>
  </ion-item>
  <ion-item [hidden]="inShop">
      <img [src]="src" [hidden]="!src"><br>
    <input [hidden]="loading>0 " (change)="change(photo)" type="file" #photo required>
    <ion-spinner text-center icon="spiral"  large fab-center class="spinner" [hidden]="loading<1 || product.photo"></ion-spinner>
  </ion-item>
	<ion-item [hidden]=" update">
    <button  large ion-button block (click)="addProduct()">Añadir mueble</button>
  </ion-item>
  
  <ion-item [hidden]="!update">
    <button large  ion-button block (click)="updateProduct()">Modificar mueble</button>
  </ion-item>
</ion-content>
